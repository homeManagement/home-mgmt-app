{"version":3,"sources":["app.js","directive/login.js"],"names":["angular","module","config","$authProvider","loginUrl","signUpUrl","facebook","clientId","responseType","name","url","authorizationEndpoint","requiredUrlParams","scope","scopeDelimiter","display","oauthType","popupOptions","width","height","run","$rootScope","$window","$auth","console","log","localStorage","currentUser","directive","controller","$scope","authenticate","provider","then","response","emailLogin","login","email","password","JSON","stringify","data","user","parse","catch","errorMessage","forEach","message","field","loginForm","$setValidity","restrict","templateUrl"],"mappings":";;AAAAA,QAAAC,MAAA,CAAA,UAAA,EAAA,CAAA,YAAA,CAAA,EACAC,MADA,CACA,UAAAC,aAAA,EAAA;AACAA,gBAAAC,QAAA,GAAA,aAAA;AACAD,gBAAAE,SAAA,GAAA,cAAA;AACAF,gBAAAG,QAAA,CAAA;AACAC,cAAA,kBADA;AAEAC,kBAAA,MAFA;AAGAC,UAAA,UAHA;AAIAC,SAAA,gBAJA;AAKAC,2BAAA,4CALA;AAMA;AACAC,uBAAA,CAAA,OAAA,CAPA;AAQAC,WAAA,CAAA,OAAA,CARA;AASAC,oBAAA,GATA;AAUAC,aAAA,OAVA;AAWAC,eAAA,KAXA;AAYAC,kBAAA,EAAAC,OAAA,GAAA,EAAAC,QAAA,GAAA;AAZA,GAAA;AAcA,CAlBA,EAkBAC,GAlBA,CAkBA,UAAAC,UAAA,EAAAC,OAAA,EAAAC,KAAA,EAAA;AACAC,UAAAC,GAAA,CAAAH,QAAAI,YAAA,CAAAC,WAAA;AAGA,CAtBA;;ACAA3B,QAAAC,MAAA,CAAA,UAAA,EAAA2B,SAAA,CAAA,gBAAA,EAAA,YAAA;;AAEA,MAAAC,aAAA,SAAAA,UAAA,CAAAC,MAAA,EAAAP,KAAA,EAAA;AACAO,WAAAC,YAAA,GAAA,UAAAC,QAAA,EAAA;AACA;AACAT,YAAAQ,YAAA,CAAAC,QAAA,EACAC,IADA,CACA,UAAAC,QAAA,EAAA;AACAV,gBAAAC,GAAA,CAAAS,QAAA;AACA,OAHA;AAIA,KANA;;AAQAJ,WAAAK,UAAA,GAAA,YAAA;AACAZ,YAAAa,KAAA,CAAA,EAAAC,OAAAP,OAAAO,KAAA,EAAAC,UAAAR,OAAAQ,QAAA,EAAA,EACAL,IADA,CACA,UAAAC,QAAA,EAAA;AACAZ,gBAAAI,YAAA,CAAAC,WAAA,GAAAY,KAAAC,SAAA,CAAAN,SAAAO,IAAA,CAAAC,IAAA,CAAA;AACArB,mBAAAM,WAAA,GAAAY,KAAAI,KAAA,CAAArB,QAAAI,YAAA,CAAAC,WAAA,CAAA;AACA,OAJA,EAKAiB,KALA,CAKA,UAAAV,QAAA,EAAA;AACAJ,eAAAe,YAAA,GAAA,EAAA;AACA7C,gBAAA8C,OAAA,CAAAZ,SAAAO,IAAA,CAAAM,OAAA,EAAA,UAAAA,OAAA,EAAAC,KAAA,EAAA;AACAlB,iBAAAmB,SAAA,CAAAD,KAAA,EAAAE,YAAA,CAAA,QAAA,EAAA,KAAA;AACApB,iBAAAe,YAAA,CAAAG,KAAA,IAAAd,SAAAO,IAAA,CAAAM,OAAA,CAAAC,KAAA,CAAA;AACA,SAHA;AAIA,OAXA;AAYA,KAbA;AAcA,GAvBA;;AA2BA,SAAA;AACAG,cAAA,IADA;AAEAtB,gBAAAA,UAFA;AAGAuB,iBAAA;;AAHA,GAAA;AAQA,CArCA","file":"all.js","sourcesContent":["angular.module('homeMgmt', ['satellizer'])\n.config(function($authProvider) {\n  $authProvider.loginUrl = '/auth/login';\n  $authProvider.signUpUrl = '/auth/signup';\n  $authProvider.facebook({\n    clientId: '1730897763901303',\n    responseType: 'code',\n    name: 'facebook',\n    url: '/auth/facebook',\n    authorizationEndpoint: 'https://www.facebook.com/v2.5/dialog/oauth',\n    // redirectUri: window.location.origin + '/',\n    requiredUrlParams: ['scope'],\n    scope: ['email'],\n    scopeDelimiter: ',',\n    display: 'popup',\n    oauthType: '2.0',\n    popupOptions: { width: 580, height: 400 }\n  });\n  })  .run(function($rootScope, $window, $auth){\n      console.log($window.localStorage.currentUser);\n\n\n})\n","angular.module('homeMgmt').directive('loginDirective', function(){\n\nvar controller = function($scope, $auth){\n  $scope.authenticate = function(provider) {\n    // localStorage.clear();\n    $auth.authenticate(provider)\n    .then(function(response){\n      console.log(response);\n    })\n  };\n\n  $scope.emailLogin = function() {\n       $auth.login({ email: $scope.email, password: $scope.password })\n         .then(function(response) {\n           $window.localStorage.currentUser = JSON.stringify(response.data.user);\n           $rootScope.currentUser = JSON.parse($window.localStorage.currentUser);\n         })\n         .catch(function(response) {\n           $scope.errorMessage = {};\n           angular.forEach(response.data.message, function(message, field) {\n             $scope.loginForm[field].$setValidity('server', false);\n             $scope.errorMessage[field] = response.data.message[field];\n           });\n         });\n     };\n}\n\n\n\nreturn{\n  restrict: 'AE',\n  controller: controller,\n  templateUrl: '../src/view/template/login.html'\n\n}\n\n\n})\n"]}